
<section class="oc-ranker-settings-left-section grid-container">
  
  
  <form class="ranking-model-settings-form grid-x grid-padding-x align-center" action="<%= ocRankerSettingsLeft_ranker_formActionAddress %>" method="GET">
    
    <%- include form_part_model_settings.ejs %>

    <input type="submit" class="button" value="Save settings"/>
  </form>
</section>


<!-- Add logic for form -->
<script src="/javascripts/form_part_model_settings_logic.js"></script>

<script>

$( document ).ready(function() 
{
  setupOnChangeLlistener();
  fillInCurrentSettings();
});

function fillInCurrentSettings()
{
  // General
  $('[name="0[numResults]"]').val("<%= ranker.settings.numResults %>").change();
  $('[name="0[aggregation]"]').val("<%= ranker.settings.transformation.id %>").change();
  $('[name="0[aggregationParameter]"]').val("<%= ranker.settings.transformation.parameter %>").change();
  $('[name="0[rankingModel]"]').val("<%= ranker.settings.aggregationModel.id %>").change();
  $('[name="0[keywordFrequency]"]').val("<%= ranker.settings.keywordFrequency %>").change();
  $('[name="0[dataSource]"]').val("<%= ranker.settings.modelTests.dataSource %>").change();

  // Boolean
  $('[name="0[boolean_trueTreshold]"]').val("<%= ranker.settings.aggregationModel.boolean.trueTreshold %>").change();
  $('[name="0[boolean_inBucketRanking]"]').val("<%= ranker.settings.aggregationModel.boolean.inBucketRanking %>").change();

  // Viret
  $('[name="0[viret_trueTreshold]"]').val("<%= ranker.settings.aggregationModel.viret.trueTreshold %>").change();
  $('[name="0[viret_queryOperations]"]').val("<%= ranker.settings.aggregationModel.viret.queryOperations %>").change();

  $('[name="0[rankingModelSimple]"]').val("<%= ranker.settings.aggregationModelSimple %>").change();
}
</script>